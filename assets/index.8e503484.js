import{j as b,O as $,u as A,r as h,L as C,B as D,R as E,a as k,b as M,c as O}from"./vendor.1b6c69a9.js";const P=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};P();var F="/assets/icon-moon.0e7a87a5.svg";const e=b.exports.jsx,a=b.exports.jsxs,x=b.exports.Fragment,I=({darkMode:c,setDarkMode:n})=>a(x,{children:[e("header",{className:"header",children:a("div",{className:"barra container",children:[e("h1",{className:"barra__logo",children:"Where in the world?"}),a("div",{className:"barra__theme",onClick:()=>n(!c),children:[e("img",{src:F,alt:"Dark Mode"}),e("span",{children:"Dark Mode"})]})]})}),e("main",{className:"main",children:e($,{})})]}),w=()=>a("div",{className:"sk-chase",children:[e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"})]});var q="/assets/icon-arrow-back.b91fc9ca.svg";const z=({infoCountry:c,setInfoCountry:n,cargando:o,setCargando:i})=>{const{borders:s,capital:r,currencies:l,flags:p,languages:u,name:m,nativeName:N,population:f,region:y,subregion:g,topLevelDomain:S}=c,j=A();h.exports.useEffect(async()=>{if(!c.name){i(!0);const d=`https://restcountries.com/v2/name/${j.name}`;try{const _=await(await fetch(d)).json();i(!1),n(_[0])}catch(t){console.error(t)}}},[]);const v=d=>{let t=[];return d.forEach(_=>{_.name?t=[...t,_.name]:t=[...t,_]}),t.join(", ")};function L(d){var t=d.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}const R=async d=>{i(!0);try{const t=`https://restcountries.com/v2/alpha/${d}`,B=await(await fetch(t)).json();i(!1),n(B)}catch(t){console.error(t)}};return e(x,{children:o?e(w,{}):c.name&&a("section",{className:"infoCountry container",children:[a(C,{to:"/",className:"back",children:[e("img",{src:q,alt:"Back",className:"icon-back"}),"Back"]}),a("article",{className:"infoCountry__container",children:[e("div",{className:"infoCountry__flag",children:e("img",{src:p.png,alt:`flag of ${m}`})}),a("div",{className:"infoCountry__info-container",children:[e("h2",{className:"infoCountry__name",children:m}),a("div",{className:"info",children:[a("div",{className:"infoCountry__principal",children:[a("p",{className:"infoCountry__nativeName",children:["Native Name: ",e("span",{children:N})]}),a("p",{className:"infoCountry__population",children:["Population: ",e("span",{children:L(f)})]}),a("p",{className:"infoCountry__region",children:["Region: ",e("span",{children:y})]}),a("p",{className:"infoCountry__subRegion",children:["Sub Region: ",e("span",{children:g})]}),a("p",{className:"infoCountry__capital",children:["Capital: ",e("span",{children:r})]})]}),a("div",{className:"infoCountry__secondary",children:[a("p",{className:"infoCountry__domain",children:["Top Level Domain: ",e("span",{children:v(S)})]}),a("p",{className:"infoCountry__currencies",children:["Currencies: ",e("span",{children:v(l)})]}),a("p",{className:"infoCountry__languajes",children:["Languages ",e("span",{children:v(u)})]})]})]}),s?a("div",{className:"infoCountry__borders",children:[e("h3",{children:"Border Countries:"}),e("ul",{children:s.map((d,t)=>e("li",{onClick:()=>R(d),children:e(C,{to:`/info/${d}`,children:d})},t))})]}):null]})]})]})})},H=({country:c,setInfoCountry:n})=>{const{capital:o,flags:i,name:s,population:r,region:l}=c;return a("div",{className:"country",onClick:()=>n(c),children:[e("div",{className:"country__flag",children:e("img",{src:i.png,alt:`flag of ${s}`,loading:"lazy",width:"30",height:"30"})}),a("div",{className:"country__info",children:[a("p",{className:"country__name",children:[" ",e("b",{children:s})," "]}),a("p",{className:"country__population",children:["Population: ",e("span",{children:r})]}),a("p",{className:"country__region",children:["Region: ",e("span",{children:l})]}),a("p",{className:"country__capital",children:["Capital: ",e("span",{children:o})]})]})]})},K=({message:c})=>e("div",{className:"error",children:c});var T="/assets/icon-search.46bebe6b.svg",W="/assets/icon-arrow.5caaee88.svg";const G=({setCountries:c,setError:n,setCargando:o})=>{const[i,s]=h.exports.useState(!1),[r,l]=h.exports.useState(""),p=async m=>{if(m.preventDefault(),o(!0),r!==""){const N=`https://restcountries.com/v2/name/${r}`;try{const y=await(await fetch(N)).json();o(!1),y.status===404?n(!0):(n(!1),c(y)),l("")}catch(f){console.error(f)}}},u=async m=>{const N=m.target.dataset.name;s(!1),o(!0);try{const f=`https://restcountries.com/v2/region/${N}`,g=await(await fetch(f)).json();o(!1),c(g)}catch(f){console.log(f)}};return a("section",{className:"search container",children:[e("form",{className:"form",onSubmit:p,children:a("div",{className:"form__item",children:[e("img",{src:T,alt:"iconSearch",className:"icon-search"}),e("input",{type:"text",className:"form__input",id:"name",placeholder:"Search fro a country...",onChange:m=>l(m.target.value),value:r})]})}),a("div",{className:`${i?"active":""} search__regions`,children:[a("button",{type:"button",className:"select",onClick:()=>s(!i),children:["Filter by Region",e("img",{src:W,alt:"Arrow",className:"select-icon"})]}),a("ul",{className:"select__ul",children:[e("li",{className:"select__li","data-name":"africa",onClick:u,children:"Africa"}),e("li",{className:"select__li","data-name":"americas",onClick:u,children:"America"}),e("li",{className:"select__li","data-name":"asia",onClick:u,children:"Asia"}),e("li",{className:"select__li","data-name":"europe",onClick:u,children:"Europe"}),e("li",{className:"select__li","data-name":"oceania",onClick:u,children:"Oceania"})]})]})]})},J=({setInfoCountry:c,cargando:n,setCargando:o})=>{const[i,s]=h.exports.useState([]),[r,l]=h.exports.useState(!1);return h.exports.useEffect(async()=>{o(!0);try{const m=await(await fetch("https://restcountries.com/v2/all")).json();o(!1),s(m)}catch(p){console.error(p)}},[]),a(x,{children:[e(G,{setCountries:s,setError:l,setCargando:o}),e("section",{className:`${n?"cargando":""} countries`,children:n?e(w,{}):r?e(K,{message:"Country not found"}):i.map((p,u)=>e(C,{to:`/info/${p.name}`,children:e(H,{country:p,setInfoCountry:c})},u))})]})};function Q(){const[c,n]=h.exports.useState([]),[o,i]=h.exports.useState(!0),[s,r]=h.exports.useState(!1);return h.exports.useEffect(()=>{s?document.body.classList.add("dark"):document.body.classList.remove("dark")},[s]),e(D,{children:e(E,{children:a(k,{path:"/",element:e(I,{darkMode:s,setDarkMode:r}),children:[e(k,{index:!0,element:e(J,{setInfoCountry:n,cargando:o,setCargando:i})}),e(k,{path:"info/:name",element:e(z,{infoCountry:c,setInfoCountry:n,cargando:o,setCargando:i})})]})})})}M.render(e(O.StrictMode,{children:e(Q,{})}),document.getElementById("root"));
